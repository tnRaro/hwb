import{S as _e,i as be,s as ge,e as M,c as v,a as B,d as E,b as l,f as Me,I as ve,J as we,t as W,j as y,v as Be,g as A,l as L,w as Pe,K as ae,H as s,L as Q,x as ke,M as X,h as ce,p as ze,n as He,A as Se,N as Te,O as le}from"../chunks/vendor-9b1cb2bd.js";const Ne=e=>{e=e%360;const t=1-Math.abs(e/60%2-1);if(e<60)return[1,t,0];if(e<120)return[t,1,0];if(e<180)return[0,1,t];if(e<240)return[0,t,1];if(e<300)return[t,0,1];if(e<360)return[1,0,t];throw new Error("Invalid hue")};function We(e){let t;return{c(){t=M("canvas"),this.h()},l(n){t=v(n,"CANVAS",{width:!0,height:!0}),B(t).forEach(E),this.h()},h(){l(t,"width",e[0]),l(t,"height",e[0])},m(n,o){Me(n,t,o),e[6](t)},p(n,[o]){o&1&&l(t,"width",n[0]),o&1&&l(t,"height",n[0])},i:ve,o:ve,d(n){n&&E(t),e[6](null)}}}let se=16;function ye(e,t,n){let o,{H:b}=t,{W:R}=t,{B:d}=t,{size:P}=t,I;const w=(a,i)=>[a[0]-i[0],a[1]-i[1]],G=(a,i)=>a[0]*i[1]-a[1]*i[0],g=a=>{const i=Math.min(...a.map(p=>p[0]))|0,m=Math.max(...a.map(p=>p[0]))|0,u=Math.min(...a.map(p=>p[1]))|0,O=Math.max(...a.map(p=>p[1]))|0,c=I==null?void 0:I.getContext("2d");if(c==null)return;c.clearRect(0,0,P,P);const f=c.getImageData(se,se,o,o);for(let p=u;p<O;p++)for(let k=i;k<m;k++){const C=[k,p],z=a[0],V=a[1],Z=a[2],q=1/G(w(z,V),w(Z,z)),D=G(w(C,z),w(z,Z))*q,x=G(w(C,V),w(V,z))*q,J=1-D-x;if(J<0||D<0||x<0)continue;const H=Ne(b),te=H[0]*J+D,U=H[1]*J+D,ne=H[2]*J+D,S=1,T=(p*o+k)*4;f.data[T+0]=te*255,f.data[T+1]=U*255,f.data[T+2]=ne*255,f.data[T+3]=S*255}c.putImageData(f,se,se)};function Y(a){we[a?"unshift":"push"](()=>{I=a,n(1,I)})}return e.$$set=a=>{"H"in a&&n(2,b=a.H),"W"in a&&n(3,R=a.W),"B"in a&&n(4,d=a.B),"size"in a&&n(0,P=a.size)},e.$$.update=()=>{if(e.$$.dirty&1&&n(5,o=P-se*2),e.$$.dirty&36){const a=[[Math.cos(b*Math.PI/180),Math.sin(b*Math.PI/180)],[Math.cos(b*Math.PI/180+2*Math.PI/3),Math.sin(b*Math.PI/180+2*Math.PI/3)],[Math.cos(b*Math.PI/180+4*Math.PI/3),Math.sin(b*Math.PI/180+4*Math.PI/3)]].map(i=>i.map(m=>(m+1)*o*.5));g(a),console.log(a)}},[P,I,b,R,d,o,Y]}class Ae extends _e{constructor(t){super();be(this,t,ye,We,ge,{H:2,W:3,B:4,size:0})}}function Le(e){let t,n,o,b,R,d,P,I,w,G,g,Y,a,i,m,u,O,c,f,p,k,C,z=(e[1]*100|0)+"",V,Z,q=(e[2]*100|0)+"",D,x,J,H,te,U,ne,S,T,ie,re,N,oe,K,j,ue,he;return K=new Ae({props:{H:e[0],W:e[1],B:e[2],size:e[3]}}),{c(){t=M("main"),n=M("section"),o=M("label"),b=W("Hue"),R=y(),d=M("input"),P=y(),I=M("label"),w=W("Whiteness"),G=y(),g=M("input"),Y=y(),a=M("label"),i=W("Blackness"),m=y(),u=M("input"),O=y(),c=M("section"),f=M("pre"),p=W("background: hwb("),k=W(e[0]),C=W("deg "),V=W(z),Z=W("% "),D=W(q),x=W("%);"),J=y(),H=M("div"),te=y(),U=M("div"),ne=y(),S=M("section"),T=M("label"),ie=W("Size"),re=y(),N=M("input"),oe=y(),Be(K.$$.fragment),this.h()},l(r){t=v(r,"MAIN",{class:!0});var h=B(t);n=v(h,"SECTION",{id:!0,class:!0});var _=B(n);o=v(_,"LABEL",{for:!0});var fe=B(o);b=A(fe,"Hue"),fe.forEach(E),R=L(_),d=v(_,"INPUT",{id:!0,type:!0,min:!0,max:!0}),P=L(_),I=v(_,"LABEL",{for:!0});var de=B(I);w=A(de,"Whiteness"),de.forEach(E),G=L(_),g=v(_,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),Y=L(_),a=v(_,"LABEL",{for:!0});var me=B(a);i=A(me,"Blackness"),me.forEach(E),m=L(_),u=v(_,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0}),_.forEach(E),O=L(h),c=v(h,"SECTION",{});var $=B(c);f=v($,"PRE",{style:!0});var F=B(f);p=A(F,"background: hwb("),k=A(F,e[0]),C=A(F,"deg "),V=A(F,z),Z=A(F,"% "),D=A(F,q),x=A(F,"%);"),F.forEach(E),J=L($),H=v($,"DIV",{class:!0,style:!0});var Ie=B(H);Ie.forEach(E),te=L($),U=v($,"DIV",{class:!0,style:!0});var Ee=B(U);Ee.forEach(E),$.forEach(E),ne=L(h),S=v(h,"SECTION",{});var ee=B(S);T=v(ee,"LABEL",{for:!0});var pe=B(T);ie=A(pe,"Size"),pe.forEach(E),re=L(ee),N=v(ee,"INPUT",{id:!0,type:!0,min:!0,max:!0}),oe=L(ee),Pe(K.$$.fragment,ee),ee.forEach(E),h.forEach(E),this.h()},h(){l(o,"for","hue"),l(d,"id","hue"),l(d,"type","range"),l(d,"min",0),l(d,"max",360),l(I,"for","whiteness"),l(g,"id","whiteness"),l(g,"type","range"),l(g,"min",0),l(g,"max",1),l(g,"step",.01),l(a,"for","blackness"),l(u,"id","blackness"),l(u,"type","range"),l(u,"min",0),l(u,"max",1),l(u,"step",.01),l(n,"id","sliders"),l(n,"class","svelte-1ndle3v"),ae(f,"width","250px"),l(H,"class","color-box svelte-1ndle3v"),ae(H,"background",e[5](e[4]([e[0],e[1],e[2]]))),l(U,"class","color-box svelte-1ndle3v"),ae(U,"background","hwb("+e[0]+"deg "+(e[1]*100|0)+"% "+(e[2]*100|0)+"%)"),l(T,"for","colorpicker-size"),l(N,"id","colorpicker-size"),l(N,"type","range"),l(N,"min",53),l(N,"max",200),l(t,"class","svelte-1ndle3v")},m(r,h){Me(r,t,h),s(t,n),s(n,o),s(o,b),s(n,R),s(n,d),Q(d,e[0]),s(n,P),s(n,I),s(I,w),s(n,G),s(n,g),Q(g,e[1]),s(n,Y),s(n,a),s(a,i),s(n,m),s(n,u),Q(u,e[2]),s(t,O),s(t,c),s(c,f),s(f,p),s(f,k),s(f,C),s(f,V),s(f,Z),s(f,D),s(f,x),s(c,J),s(c,H),s(c,te),s(c,U),s(t,ne),s(t,S),s(S,T),s(T,ie),s(S,re),s(S,N),Q(N,e[3]),s(S,oe),ke(K,S,null),j=!0,ue||(he=[X(d,"change",e[6]),X(d,"input",e[6]),X(g,"change",e[7]),X(g,"input",e[7]),X(u,"change",e[8]),X(u,"input",e[8]),X(N,"change",e[9]),X(N,"input",e[9])],ue=!0)},p(r,[h]){h&1&&Q(d,r[0]),h&2&&Q(g,r[1]),h&4&&Q(u,r[2]),(!j||h&1)&&ce(k,r[0]),(!j||h&2)&&z!==(z=(r[1]*100|0)+"")&&ce(V,z),(!j||h&4)&&q!==(q=(r[2]*100|0)+"")&&ce(D,q),(!j||h&7)&&ae(H,"background",r[5](r[4]([r[0],r[1],r[2]]))),(!j||h&7)&&ae(U,"background","hwb("+r[0]+"deg "+(r[1]*100|0)+"% "+(r[2]*100|0)+"%)"),h&8&&Q(N,r[3]);const _={};h&1&&(_.H=r[0]),h&2&&(_.W=r[1]),h&4&&(_.B=r[2]),h&8&&(_.size=r[3]),K.$set(_)},i(r){j||(ze(K.$$.fragment,r),j=!0)},o(r){He(K.$$.fragment,r),j=!1},d(r){r&&E(t),Se(K),ue=!1,Te(he)}}}function Re(e,t,n){let o=35,b=.5,R=0,d=53;const P=i=>{i=i%360;const m=1-Math.abs(i/60%2-1);if(i<60)return[1,m,0];if(i<120)return[m,1,0];if(i<180)return[0,1,m];if(i<240)return[0,m,1];if(i<300)return[m,0,1];if(i<360)return[1,0,m];throw new Error("Invalid hue")},I=i=>{const m=i[0],u=i[1],O=i[2];if(u+O>=1){const c=u/(u+O);return[c,c,c]}else{const c=P(m),f=c[0],p=c[1],k=c[2],C=1-u-O;return[f*C+u,p*C+u,k*C+u]}},w=i=>"#"+i.map(m=>Math.round(m*255).toString(16).padStart(2,"0")).join("");function G(){o=le(this.value),n(0,o)}function g(){b=le(this.value),n(1,b)}function Y(){R=le(this.value),n(2,R)}function a(){d=le(this.value),n(3,d)}return[o,b,R,d,I,w,G,g,Y,a]}class De extends _e{constructor(t){super();be(this,t,Re,Le,ge,{})}}export{De as default};
